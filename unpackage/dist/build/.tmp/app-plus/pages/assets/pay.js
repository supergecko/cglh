(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/assets/pay"],{"0ee5":function(e,t,n){"use strict";n.r(t);var o=n("f5d7"),a=n("1693");for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);n("14d7");var c=n("2877"),i=Object(c["a"])(a["default"],o["a"],o["b"],!1,null,"b0a971d6",null);t["default"]=i.exports},"14d7":function(e,t,n){"use strict";var o=n("ce4f"),a=n.n(o);a.a},1693:function(e,t,n){"use strict";n.r(t);var o=n("89af"),a=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t["default"]=a.a},"89af":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"f7ac"))},s=function(){return Promise.all([n.e("common/vendor"),n.e("components/qrcode/qrcode")]).then(n.bind(null,"608d"))},c={components:{uniPopup:a,qrcode:s},data:function(){return{isImgFlag:!1,coinName:"BTC",coinArry:[],memoFlag:!1,asset:{},qrcodeurl:"",rechargeInfo:{balance:"",send_code:"",currency_id:"",memo:""}}},onLoad:function(e){this._currency()},onPullDownRefresh:function(){var t=this,n=setTimeout(function(){t._currency(),e.stopPullDownRefresh(),e.showToast({icon:"none",title:"刷新成功"})},1e3);e.getNetworkType({success:function(t){"none"==t.networkType&&(e.showToast({icon:"none",title:"当前网络不可用"}),clearTimeout(n),e.stopPullDownRefresh())}})},methods:{toPath:function(t){e.navigateTo({url:t})},toggleImg:function(){var e=this;this.isImgFlag=!0,setTimeout(function(){e.$refs.qrcode.creatQrcode()},100)},checkPopup:function(e){this.$refs.popup.close(),this.coinName=e.title,this.asset=e.asset,this.rechargeInfo.currency_id=e.asset.currency_id,this.qrcodeurl=e.asset.receivable_address,this.isImgFlag=!1,"EOS"==this.coinName?this.memoFlag=!0:this.memoFlag=!1},closePopup:function(){this.$refs.popup.close()},openPopup:function(){this.$refs.popup.open()},submitRecharge:function(){if(""!==this.rechargeInfo.balance)if(""!==this.rechargeInfo.send_code)if(""!==this.rechargeInfo.memo||!0!==this.memoFlag){e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"加载中"});var t=e.getStorageSync("user_mobile"),n=this.rechargeInfo.currency_id,o=this.rechargeInfo.balance,a=this.rechargeInfo.memo,s=this.rechargeInfo.send_code,c=Date.parse(new Date)/1e3,i=this.$md5("".concat(t,"**").concat(n,"**").concat(o,"**").concat(s,"**").concat(a,"**").concat(c,"**cglhhaofengshui")),r={currency_id:n,memo:a,balance:o,send_code:s,timestamp:c,sign:i};this.$ajax.post({url:this.$service.api_lists.recharge,data:r}).then(function(t){e.hideLoading(),1==t.data.code&&e.showToast({icon:"none",title:t.data.msg})}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})}else e.showToast({icon:"none",title:"请输入MEMO"});else e.showToast({icon:"none",title:"请输入转出地址"});else e.showToast({icon:"none",title:"请输入充值金额"})},_currency:function(){var t=this;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"加载中"});var n=e.getStorageSync("user_mobile"),o=Date.parse(new Date)/1e3,a=this.$md5("".concat(n,"**").concat(o,"**cglhhaofengshui")),s={timestamp:o,sign:a};this.$ajax.post({url:this.$service.api_lists.assetsIndex,data:s}).then(function(n){1==n.data.code&&(t.memoFlag=!1,t.isImgFlag=!1,t.coinArry=n.data.data.asset,t.asset=n.data.data.asset[0].asset,t.coinName=n.data.data.asset[0].title,t.qrcodeurl=n.data.data.asset[0].asset.receivable_address,t.rechargeInfo.currency_id=n.data.data.asset[0].asset.currency_id),e.hideLoading()}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},handleDownloadQrIMg:function(t){e.showActionSheet({itemList:["保存到相册"],success:function(n){0==n.tapIndex&&(e.showLoading({title:"保存中..."}),setTimeout(function(){e.hideLoading()},6e3),e.downloadFile({url:t,success:function(t){200===t.statusCode&&e.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){e.hideLoading(),e.showToast({title:"保存成功！"})}})}}))}})},copyText:function(t){e.setClipboardData({data:t,success:function(){console.log(o("success"," at pages\\assets\\pay.vue:353"))}})}}};t.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},a826:function(e,t,n){"use strict";(function(e){n("590a"),n("921b");o(n("66fd"));var t=o(n("0ee5"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},ce4f:function(e,t,n){},f5d7:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})}},[["a826","common/runtime","common/vendor"]]]);